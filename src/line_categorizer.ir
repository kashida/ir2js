:!SectionLine
  CodeLine|SeparatorLine|InvalidLine

::LineCategorizer
  @context\!Context\$

:create_line\SectionLine\
  input+\InputLine\$
  parser := new LineParser(input)
  if (!parser.is_valid)
    => new InvalidLine(input)
  if (parser.is_separator)
    => new SeparatorLine(input, parser)
  => new CodeLine(@context, input, parser)
