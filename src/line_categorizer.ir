:!SectionLine
  CodeLine|SeparatorLine|InvalidLine

::LineCategorizer
  @context\!context.Context\$

:create_line\SectionLine\
  input\input.Line\$
  parsed := new LineParser(input)
  if !parsed.is_valid
    => new InvalidLine(input)
  if parsed.is_separator
    => new SeparatorLine(input, parsed)
  => new CodeLine(@context, input, parsed)
